<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

<!-- <script>
    // 二分查找

    // 找到一个有序数组中的某个数 x 

    // 找到数组的中间数midNum, 如果x > midNum，那么就在 midNum右边查找，继续二分

    let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 45, 9098];

    let x = 45;

    function fn(x) {

        let left = 0,
            right = arr.length - 1;


        while (left <= right) {
            let mid = Math.floor((left + right) / 2);

            if (arr[mid] === x) {
                return mid
            } else if (arr[mid] > x) {
                // 左侧查找
                right = mid - 1
            } else {
                // 右侧查找
                left = mid + 1
            }
        }
        return -1
    }

    console.log('二分查找一个数 === ', fn(x));
</script> -->

<!-- 
<script>
    // 二分查找 2

    // 在一个有序数组中，找 >= 某个数 x 最左侧的位置

    // 找中间点，记录位置为 t

    // x对比中间点大小，再寻找中间点，记录为 t

    let arr = [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4];

    let x = 1;

    function fn(x) {
        let left = 0,
            right = arr.length - 1;

        let t = -1;

        while (left <= right) {
            let mid = parseInt((left + right) / 2);

            if (arr[mid] >= x) {
                // 左侧查找
                t = mid;
                right = mid - 1;
            } else if (arr[mid] < x) {
                // 右侧查找
                left = mid + 1
            }

            console.log(left, right, mid, t);
        }
        return t

    }

    console.log(fn(x));
</script> -->


<script>
    // 二分查找 3

    // 寻找局部最小值

    // arr是无序数组，相邻两数一定不相等

    let arr = [1, 3, 2, 11, 10, 7, 8, 4, 9, 10];

    function fn() {
        let left = 0;
        let right = arr.length - 1;

        while (left <= right) {
            let mid = parseInt((left + right) / 2);

            if (arr[mid] < arr[mid - 1] && arr[mid] < arr[mid + 1]) {
                // 局部最小
                return arr[mid]
            } else if (arr[mid] > arr[mid - 1]) {
                // 左边查询
                right = mid
                console.log('左边查询', arr[mid], arr[mid - 1], right)
            } else if (arr[mid] < arr[mid - 1]) {
                // 右边查询
                left = mid
                console.log('右边查询', arr[mid], arr[mid - 1], left)
            }
        }

        return -1;
    }


    console.log(fn());
</script>

</html>